# 代码统计系统 (CodeChronometer)

## 项目简介
本项目是一个高效、跨平台的代码行数统计工具，采用C语言实现核心功能，提供多种编程语言支持和独特的打字机动画输出效果。适用于程序员、开发团队和项目管理者进行代码规模评估。

## 核心功能
- ✅ 递归统计目录下的代码文件（支持C/C++/Python/Java/JavaScript/TypeScript/Markdown）
- 🌍 完全跨平台支持（Windows/Linux）
- 🎮 独特的打字机动画风格交互式输出
- 🚫 智能过滤构建目录和CMake相关文件
- 📁 支持两种路径选择模式：
  - 默认使用当前目录
  - 手动输入自定义路径
- 📄 自动生成统计报告并保存至独立`reports`目录
- 🧠 支持多语言代码分析（自动识别文件类型）
- 📈 可视化统计结果展示（进度条+详细统计报告）
- 🔁 交互式菜单支持多次执行代码统计

## 技术架构
### 系统架构层次
```
├── scripts/        # 辅助脚本
│   └── count.py        # Python辅助脚本
├── src/            # 核心源代码
│   ├── code_count.c    # 多语言代码统计算法
│   ├── code_count.h    # 代码统计接口
│   ├── main.c          # 程序入口及交互逻辑
│   ├── utils.c         # 工具函数实现
│   └── utils.h         # 工具函数接口
└── README.md       # 项目说明文件
```

### 技术选型
| 组件类型       | 技术选择                  | 说明                          |
|----------------|---------------------------|-------------------------------|
| 编程语言       | C11标准                   | 保证性能和跨平台兼容性        |
| 构建工具       | CMake 3.10+               | 跨平台构建支持                |
| 编译器支持     | MSVC/GCC/Clang            | 多编译器兼容性测试            |
| 脚本语言       | Python                    | 辅助脚本处理                  |
| 输出编码       | UTF-8                     | 支持国际化字符显示            |
| 错误处理       | 显式错误提示              | 遵循用户交互设计规范          |

## 开发环境配置
### Windows环境（推荐使用MSYS64）
1. 下载安装MSYS2：https://www.msys2.org/
2. 更新包数据库：
```bash
pacman -Syu
```
3. 安装必要工具链：
```bash
pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-cmake mingw-w64-x86_64-make
```
4. 将MSYS2的`mingw64/bin`目录添加到系统PATH环境变量

### Linux环境（Ubuntu/Debian）
```bash
sudo apt-get update
sudo apt-get install build-essential cmake
```

## 构建指南
### Windows构建命令（MSYS2 MinGW64环境）
```bash
# 创建并进入构建目录
cd code
cmake -B build -S . -G "MinGW Makefiles"

# 执行构建
mingw32-make -C build
```

### Linux构建命令
```bash
# 创建并进入构建目录
cd code
cmake -B build -S .

# 执行构建
cmake --build build
```

## 使用说明
运行生成的可执行文件后，将进入交互式菜单：
1. 📊 运行代码统计
2. 📁 生成统计报告（保存至`reports/`目录）
3. 🚪 退出程序

## 技术规范
- **代码规范**：遵循C11标准，启用-Wall -Wextra警告选项
- **跨平台**：
  - Windows使用`_setmode`设置UTF-8输出
  - Linux使用`setlocale`设置本地化编码
  - 使用预编译宏`#ifdef _WIN32`区分平台实现
- **性能要求**：高效处理大目录和大文件
- **安全要求**：无特殊安全需求
- **版本规范**：遵循语义化版本规范（主版本.次版本.修订号）
- **文档更新**：所有文档更新必须与实际开发环境配置保持严格一致

## 已知限制
- 默认统计当前目录的代码文件（可通过参数扩展）
- Windows系统需要管理员权限运行以避免输出权限问题
- 默认仅支持特定文件类型（可扩展）

## 报告生成功能
- 报告文件名包含时间戳（格式：`YYYY-MM-DD_HH-MM-SS`）
- 示例：`code_stats_2025-07-28_14-30-45.txt`
- 报告文件保存路径显示在控制台输出中
- 自动创建`reports`目录（跨平台实现）

## 贡献指南
欢迎提交PR或Issue来帮助完善项目功能！贡献时请遵循以下规范：
1. 保持代码可读性，避免使用三元运算符
2. 使用空行分隔逻辑段落
3. 添加必要的注释说明关键操作
4. 遵循函数优化与重构规范
5. 保持文档与代码同步更新
6. 版本更新遵循语义化版本规范

## 许可证
MIT License